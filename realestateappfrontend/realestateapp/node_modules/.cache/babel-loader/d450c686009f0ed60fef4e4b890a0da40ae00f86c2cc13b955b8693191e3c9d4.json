{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kevin\\\\.vscode\\\\RealEstateAppBackup\\\\realestateappfrontend\\\\realestateapp\\\\src\\\\ManageBooking_J.js\",\n  _s3 = $RefreshSig$();\nimport './ManageBooking.css';\nimport Navbar from './Custom_Navbar_J';\nimport CustomFooter from './Custom_Footer_J';\nimport { useState, useEffect, useContext } from 'react';\nimport { DataContext } from './DataProvider';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ManageBookings = () => {\n  _s3();\n  var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  const [savedScroll, setSavedScroll] = useState(0);\n  const today = new Date();\n  const [selectedYear, setSelectedYear] = useState(today.getFullYear());\n  const [selectedMonth, setSelectedMonth] = useState(today.getMonth());\n  const [reservationData, setReservationData] = useState([]);\n  const [selectedReservation, setSelectedReservation] = useState(null);\n  const [editReservation, setEditReservation] = useState(false);\n  const [editedReservation, setEditedReservation] = useState({});\n  const {\n    dormitoryPrice,\n    setDormitoryPrice,\n    doubleSharedPrice,\n    setDoubleSharedPrice,\n    doublePrivatePrice,\n    setDoublePrivatePrice,\n    japaneseTwinPrice,\n    setJapenseTwinPrice,\n    fourBedPrice,\n    setFourBedPrice\n  } = useContext(DataContext);\n\n  //Room Option Variables\n  const roomTypeOptionsArray = ['Dormitory', 'Double Room Shared Toilet & Shower', 'Double Room Private Toilet & Bath', 'Japanese Twin Room', '4 Bed Room'];\n  const dormitoryRooms = ['202A', '202B', '202C', '202D', '202E', '202F', '202G', '202H', '202I', '202K', '202L', '203A', '203B', '203C', '203D', '203E', '203F', '203G', '203H', '203I', '203K', '203L', '204A', '204B', '204C', '204D', '204E', '204F', '204G', '204H', '204I', '204K', '204L'];\n  const doubleSharedRooms = ['201', '205'];\n  const doubleRoomPrivate = ['206', '207'];\n  const japaneseTwinRooms = ['301', '302', '303', '304', '305', '306', '307'];\n  const fourbedRooms = ['401', '402', '403', '404', '405', '406'];\n\n  //Calendar Generation Helper\n  function getDaysInMonth(month, year) {\n    return new Date(year, month + 1, 0).getDate();\n  }\n  ;\n  const months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n  const [selectedDay, setSelectedDay] = useState(null); // e.g. '2025-06-12'\n  const [showDayModal, setShowDayModal] = useState(false);\n  const [dayReservations, setDayReservations] = useState([]);\n\n  //Helper function to get all reservations for a given day\n  const getReservationsForDate = dateStr => {\n    return reservationData.filter(res => {\n      const start = new Date(res[\"Start Date\"]);\n      const end = new Date(res[\"End Date\"]);\n      const d = new Date(dateStr);\n      return d >= start && d <= end;\n    });\n  };\n\n  //Handler for clicking a day\n  const handleDayClick = dateStr => {\n    const reservations = getReservationsForDate(dateStr);\n    setDayReservations(reservations);\n    setSelectedDay(dateStr);\n    setShowDayModal(true);\n  };\n\n  //Handler for selecting a reservation within the day\n  const handleReservationClick = reservation => {\n    setSelectedReservation(reservation);\n    setEditReservation(false);\n    setShowDayModal(false);\n  };\n\n  //Calculate Total rooms in building\n  const totalRooms = dormitoryRooms.length + doubleSharedRooms.length + doubleRoomPrivate.length + japaneseTwinRooms.length + fourbedRooms.length;\n  const DisplayMonth = () => {\n    const daysInMonth = getDaysInMonth(selectedMonth, selectedYear);\n    const firstDay = new Date(selectedYear, selectedMonth, 1).getDay();\n    const rows = [];\n    let cells = [];\n    for (let i = 0; i < firstDay; i++) {\n      cells.push(/*#__PURE__*/_jsxDEV(\"td\", {}, `empty-${i}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 24\n      }, this));\n    }\n    for (let day = 1; day <= daysInMonth; day++) {\n      const dateObj = new Date(selectedYear, selectedMonth, day);\n      const yyyy = dateObj.getFullYear();\n      const mm = String(dateObj.getMonth() + 1).padStart(2, '0');\n      const dd = String(dateObj.getDate()).padStart(2, '0');\n      const dateStr = `${yyyy}-${mm}-${dd}`;\n      const reservationsForDay = getReservationsForDate(dateStr);\n      const numReservations = reservationsForDay.length;\n      const uniqueRooms = new Set(reservationsForDay.map(r => r[\"Room Number\"]));\n      const isHotelFull = uniqueRooms.size >= totalRooms;\n      cells.push(/*#__PURE__*/_jsxDEV(\"td\", {\n        className: isHotelFull ? \"hotel-full\" : \"\",\n        style: {\n          position: \"relative\",\n          cursor: \"pointer\",\n          background: isHotelFull ? \"#ffcccc\" : undefined\n        },\n        onClick: () => handleDayClick(dateStr),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"calendardaynumber\",\n          children: day\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), isHotelFull ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"red\",\n            fontWeight: \"bold\"\n          },\n          children: \"\\u30DB\\u30C6\\u30EB\\u6E80\\u5BA4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reservationtotal\",\n          children: [numReservations, \" \\u4E88\\u7D04\", numReservations !== 1 ? \"s\" : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 25\n        }, this)]\n      }, `${selectedYear}-${selectedMonth}-${day}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this));\n      if (cells.length % 7 === 0) {\n        rows.push(/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: cells\n        }, `row-${day}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 27\n        }, this));\n        cells = [];\n      }\n    }\n    if (cells.length) {\n      while (cells.length < 7) {\n        cells.push(/*#__PURE__*/_jsxDEV(\"td\", {}, `empty-end-${cells.length}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 28\n        }, this));\n      }\n      rows.push(/*#__PURE__*/_jsxDEV(\"tr\", {\n        children: cells\n      }, \"row-last\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 23\n      }, this));\n    }\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bookingmanagercalendarbody\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"calendarcontrols\",\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedMonth,\n            onChange: e => {\n              setSelectedMonth(Number(e.target.value));\n            },\n            children: months.map((m, idx) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: idx,\n              children: m\n            }, m, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 25\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"yearselection\",\n            type: \"number\",\n            value: selectedYear,\n            onChange: e => {\n              setSelectedYear(Number(e.target.value));\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"calendartablewrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"calendartable\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Su\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Mo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 48\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Tu\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 59\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"We\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 70\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Th\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 81\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Fr\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 92\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Sa\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 103\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: rows\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this), showDayModal && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reservationmodaloverlay\",\n        onClick: () => setShowDayModal(false),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reservationmodalcontentcalendar\",\n          onClick: e => e.stopPropagation(),\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"\\u3054\\u4E88\\u7D04 \", selectedDay]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 29\n          }, this), dayReservations.length === 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"\\u3053\\u306E\\u65E5\\u306F\\u4E88\\u7D04\\u304C\\u3042\\u308A\\u307E\\u305B\\u3093\\u3002\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: dayReservations.map(res => /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                style: {\n                  marginBottom: \"10px\",\n                  cursor: \"pointer\"\n                },\n                onClick: () => handleReservationClick(res),\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [res[\"Name\"], \": \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 45\n                }, this), \" \\u90E8\\u5C4B \", res[\"Room Number\"], \", \", res[\"Room Option\"], \", \\u30C1\\u30A7\\u30C3\\u30AF\\u30A4\\u30F3: \", res[\"Check In\"], \", \\u30C1\\u30A7\\u30C3\\u30AF\\u30A2\\u30A6\\u30C8: \", res[\"Check Out\"]]\n              }, res[\"Reservation ID\"], true, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"closemodalbtn\",\n            onClick: () => setShowDayModal(false),\n            children: \"\\u8FD1\\u3044\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true);\n  };\n\n  //Get Reservation Data Function\n  const getReservationData = async () => {\n    //GET request\n    try {\n      const response = await fetch('http://localhost:5000/reservationdata', {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include' //This allows cookies to be sent and received\n      });\n      const data = await response.json();\n\n      //Valid response check\n      if (response.ok) {\n        setReservationData(data.data);\n        console.log('Reservations Received');\n      }\n    } catch (error) {\n      console.error(\"Error Retrieving Reservations:\", error.response ? error.response.data : error.message);\n    }\n  };\n  useEffect(() => {\n    getReservationData();\n  }, []);\n  useEffect(() => {\n    console.log(\"Rservation Data: \", reservationData);\n  }, [reservationData]);\n\n  // Helper to get price per room type\n  const getRoomPrice = roomOption => {\n    switch (roomOption) {\n      case 'Dormitory':\n        return dormitoryPrice;\n      case 'Double Room Shared Toilet & Shower':\n        return doubleSharedPrice;\n      case 'Double Room Private Toilet & Bath':\n        return doublePrivatePrice;\n      case 'Japanese Twin Room':\n        return japaneseTwinPrice;\n      case '4 Bed Room':\n        return fourBedPrice;\n      default:\n        return 0;\n    }\n  };\n\n  // Helper to get number of nights (exclusive of end date)\n  const getNights = (startDate, endDate) => {\n    const start = new Date(startDate);\n    const end = new Date(endDate);\n    // Nights = difference in days (exclusive of end date)\n    const diffTime = end.getTime() - start.getTime();\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    return Math.max(1, diffDays);\n  };\n\n  // Calculate total for the current edit form\n  const getEditTotal = () => {\n    const startDate = editedReservation[\"Start Date\"] || selectedReservation[\"Start Date\"];\n    const endDate = editedReservation[\"End Date\"] || selectedReservation[\"End Date\"];\n    const roomOption = editedReservation[\"Room Option\"] || selectedReservation[\"Room Option\"];\n    if (!startDate || !endDate || !roomOption) return 0;\n    const nights = getNights(startDate, endDate);\n    const price = getRoomPrice(roomOption);\n    return (nights * price).toFixed(2);\n  };\n  const deleteReservation = async reservation => {\n    try {\n      const response = await fetch('http://localhost:5000/reservationdelete', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          reservationId: reservation[\"Reservation ID\"]\n        }),\n        credentials: 'include'\n      });\n      if (response.ok) {\n        getReservationData();\n        setSelectedReservation(null);\n        setEditReservation(false);\n        alert(\"予約を削除しました\");\n      } else {\n        alert(\"予約の削除に失敗しました。\");\n      }\n    } catch (error) {\n      console.error(\"Error Deleting Reservation: \", error);\n    }\n  };\n\n  //Calendar for showing reservation date ranges\n\n  // State for reservation calendar modal\n  const [showReservationCalendar, setShowReservationCalendar] = useState(false);\n  const [calendarReservation, setCalendarReservation] = useState(null);\n  const showOnCalendar = reservation => {\n    setCalendarReservation(reservation);\n    setShowReservationCalendar(true);\n  };\n\n  // Helper: get all dates between two dates (inclusive)\n  function getDatesBetween(start, end) {\n    const arr = [];\n    // Parse start and end as year, month, day (local)\n    const [sy, sm, sd] = start.split('-').map(Number);\n    const [ey, em, ed] = end.split('-').map(Number);\n    let dt = new Date(sy, sm - 1, sd);\n    const endDt = new Date(ey, em - 1, ed);\n    while (dt <= endDt) {\n      const yyyy = dt.getFullYear();\n      const mm = String(dt.getMonth() + 1).padStart(2, '0');\n      const dd = String(dt.getDate()).padStart(2, '0');\n      arr.push(`${yyyy}-${mm}-${dd}`);\n      dt.setDate(dt.getDate() + 1);\n    }\n    return arr;\n  }\n  const ReservationsTable = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"reservationstablewrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u4E88\\u7D04\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u540D\\u524D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u958B\\u59CB\\u65E5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u7D42\\u4E86\\u65E5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u90E8\\u5C4B\\u756A\\u53F7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u90E8\\u5C4B\\u30AA\\u30D7\\u30B7\\u30E7\\u30F3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u4EBA\\u3005\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u5408\\u8A08\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u4E88\\u7D04ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u30C1\\u30A7\\u30C3\\u30AF\\u30A4\\u30F3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u30C1\\u30A7\\u30C3\\u30AF\\u30A2\\u30A6\\u30C8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: reservationData.map((res, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          onClick: () => {\n            setSelectedReservation(res);\n            setEditReservation(false);\n          },\n          className: \"reservationrow\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: res[\"Name\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: res[\"Start Date\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: res[\"End Date\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: res[\"Room Number\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: res[\"Room Option\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: res[\"People\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: res[\"Total\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: res[\"Reservation ID\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: res[\"Check In\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: res[\"Check Out\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 21\n          }, this)]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 13\n    }, this), selectedReservation && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reservationmodaloverlay\",\n      onClick: () => {\n        setSelectedReservation(null);\n        setEditReservation(false);\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reservationmodalcontent\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u4E88\\u7D04\\u306E\\u8A73\\u7D30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 17\n        }, this), editReservation ? /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: async e => {\n            e.preventDefault();\n            // Conflict check before submit\n            const startDate = editedReservation[\"Start Date\"] || selectedReservation[\"Start Date\"];\n            const endDate = editedReservation[\"End Date\"] || selectedReservation[\"End Date\"];\n            const roomOption = editedReservation[\"Room Option\"] || selectedReservation[\"Room Option\"];\n            const roomNumber = editedReservation[\"Room Number\"] || selectedReservation[\"Room Number\"];\n            const reservationId = selectedReservation[\"Reservation ID\"];\n            const checkIn = selectedReservation[\"Check In\"];\n            const checkOut = selectedReservation[\"Check Out\"];\n\n            // Helper: get all reservations for this room option, excluding the one being edited\n            const otherReservations = reservationData.filter(r => r[\"Room Option\"] === roomOption && r[\"Room Number\"] === roomNumber && r[\"Reservation ID\"] !== reservationId);\n\n            // Helper: get all reservations for this room option (for fully booked logic)\n            const optionReservations = reservationData.filter(r => r[\"Room Option\"] === roomOption && r[\"Reservation ID\"] !== reservationId);\n\n            // Helper: get all dates between two dates (inclusive)\n            function getDatesBetween(start, end) {\n              const arr = [];\n              let dt = new Date(start);\n              while (dt <= new Date(end)) {\n                arr.push(dt.toISOString().slice(0, 10));\n                dt.setDate(dt.getDate() + 1);\n              }\n              return arr;\n            }\n\n            // 1. Check for overlap with other reservations for the same room/option\n            let conflict = false;\n            for (const r of otherReservations) {\n              const rStart = r[\"Start Date\"];\n              const rEnd = r[\"End Date\"];\n              if (startDate < rEnd && endDate > rStart) {\n                conflict = true;\n                break;\n              }\n            }\n\n            // 2. Check for fully booked days (adjacent/within)\n            // Build a map of date => count of rooms booked for this option\n            const roomCount = roomOption === \"Dormitory\" ? dormitoryRooms.length : roomOption === \"Double Room Shared Toilet & Shower\" ? doubleSharedRooms.length : roomOption === \"Double Room Private Toilet & Bath\" ? doubleRoomPrivate.length : roomOption === \"Japanese Twin Room\" ? japaneseTwinRooms.length : roomOption === \"4 Bed Room\" ? fourbedRooms.length : 0;\n            const dateRoomMap = {};\n            for (const r of optionReservations) {\n              const rDates = getDatesBetween(r[\"Start Date\"], r[\"End Date\"]);\n              for (const d of rDates) {\n                dateRoomMap[d] = (dateRoomMap[d] || 0) + 1;\n              }\n            }\n\n            // Helper: is a date fully booked for this option?\n            function isFullyBooked(date) {\n              return (dateRoomMap[date] || 0) >= roomCount;\n            }\n\n            // Check for adjacent fully booked start date\n            const prevDay = new Date(startDate);\n            prevDay.setDate(prevDay.getDate() - 1);\n            const prevDayStr = prevDay.toISOString().slice(0, 10);\n            if (isFullyBooked(prevDayStr)) {\n              alert(\"この客室タイプでは、満室の日に隣接する開始日を選択することはできません。\");\n              return;\n            }\n\n            // Check for fully booked days strictly between start and end\n            const allDates = getDatesBetween(startDate, endDate);\n            let hasBlockedBetween = false;\n            for (let i = 1; i < allDates.length - 1; i++) {\n              if (isFullyBooked(allDates[i])) {\n                hasBlockedBetween = true;\n                break;\n              }\n            }\n            if (hasBlockedBetween) {\n              alert(\"この客室タイプでは、開始日と終了日の間に満室の日がある場合、終了日を選択することはできません。\");\n              return;\n            }\n            if (conflict) {\n              alert(\"この部屋は選択した日付ですでに予約されています。\");\n              return;\n            }\n\n            // If all checks pass, submit as before\n            const updatedReservation = {\n              ...selectedReservation,\n              ...editedReservation\n            };\n            try {\n              const response = await fetch('http://localhost:5000/reservationdataupdate', {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(updatedReservation),\n                credentials: 'include'\n              });\n              if (response.ok) {\n                getReservationData();\n                setSelectedReservation(updatedReservation);\n                setEditReservation(false);\n              }\n            } catch (error) {\n              console.error(\"Failed to Update Reservation: \", error);\n              alert(\"予約の更新中にエラーが発生しました。\");\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u540D\\u524D:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: editedReservation[\"Name\"] !== undefined ? editedReservation[\"Name\"] : selectedReservation[\"Name\"],\n                onChange: e => setEditedReservation(prev => ({\n                  ...prev,\n                  [\"Name\"]: e.target.value\n                })),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u958B\\u59CB\\u65E5:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: editedReservation[\"Start Date\"] !== undefined ? editedReservation[\"Start Date\"] : selectedReservation[\"Start Date\"],\n                onChange: e => setEditedReservation(prev => ({\n                  ...prev,\n                  [\"Start Date\"]: e.target.value\n                })),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u7D42\\u4E86\\u65E5:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: editedReservation[\"End Date\"] !== undefined ? editedReservation[\"End Date\"] : selectedReservation[\"End Date\"],\n                onChange: e => setEditedReservation(prev => ({\n                  ...prev,\n                  [\"End Date\"]: e.target.value\n                })),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u90E8\\u5C4B\\u30AA\\u30D7\\u30B7\\u30E7\\u30F3:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: editedReservation[\"Room Option\"] !== undefined ? editedReservation[\"Room Option\"] : selectedReservation[\"Room Option\"],\n                onChange: e => {\n                  const newRoomOption = e.target.value;\n                  let defaultRoom = \"\";\n                  if (newRoomOption === 'Dormitory') defaultRoom = dormitoryRooms[0];else if (newRoomOption === 'Double Room Shared Toilet & Shower') defaultRoom = doubleSharedRooms[0];else if (newRoomOption === 'Double Room Private Toilet & Bath') defaultRoom = doubleRoomPrivate[0];else if (newRoomOption === 'Japanese Twin Room') defaultRoom = japaneseTwinRooms[0];else if (newRoomOption === '4 Bed Room') defaultRoom = fourbedRooms[0];\n                  setEditedReservation(prev => ({\n                    ...prev,\n                    [\"Room Option\"]: newRoomOption,\n                    [\"Room Number\"]: defaultRoom // set default room number\n                  }));\n                },\n                required: true,\n                children: roomTypeOptionsArray.map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: opt,\n                  children: opt\n                }, opt, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 534,\n                  columnNumber: 37\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u90E8\\u5C4B\\u756A\\u53F7:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: editedReservation[\"Room Number\"] !== undefined ? editedReservation[\"Room Number\"] : selectedReservation[\"Room Number\"],\n                onChange: e => setEditedReservation(prev => ({\n                  ...prev,\n                  [\"Room Number\"]: e.target.value\n                })),\n                required: true,\n                children: (() => {\n                  const roomType = editedReservation[\"Room Option\"] !== undefined ? editedReservation[\"Room Option\"] : selectedReservation[\"Room Option\"];\n                  if (roomType === 'Dormitory') return dormitoryRooms.map(r => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: r,\n                    children: r\n                  }, r, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 548,\n                    columnNumber: 94\n                  }, this));\n                  if (roomType === 'Double Room Shared Toilet & Shower') return doubleSharedRooms.map(r => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: r,\n                    children: r\n                  }, r, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 549,\n                    columnNumber: 122\n                  }, this));\n                  if (roomType === 'Double Room Private Toilet & Bath') return doubleRoomPrivate.map(r => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: r,\n                    children: r\n                  }, r, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 550,\n                    columnNumber: 121\n                  }, this));\n                  if (roomType === 'Japanese Twin Room') return japaneseTwinRooms.map(r => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: r,\n                    children: r\n                  }, r, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 551,\n                    columnNumber: 106\n                  }, this));\n                  if (roomType === '4 Bed Room') return fourbedRooms.map(r => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: r,\n                    children: r\n                  }, r, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 552,\n                    columnNumber: 93\n                  }, this));\n                  return null;\n                })()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u4EBA\\u3005:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 559,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                min: 1,\n                value: editedReservation[\"People\"] !== undefined ? editedReservation[\"People\"] : selectedReservation[\"People\"],\n                onChange: e => setEditedReservation(prev => ({\n                  ...prev,\n                  [\"People\"]: e.target.value\n                })),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 560,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u5408\\u8A08:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 33\n              }, this), \" \\xA5\", getEditTotal()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 569,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u4E88\\u7D04ID: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 574,\n                columnNumber: 29\n              }, this), selectedReservation[\"Reservation ID\"]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 573,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u30C1\\u30A7\\u30C3\\u30AF\\u30A4\\u30F3:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 579,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: editedReservation[\"Check In\"] !== undefined ? editedReservation[\"Check In\"] : selectedReservation[\"Check In\"] || \"Yes\",\n                onChange: e => {\n                  const newValue = e.target.value;\n                  const checkOutValue = editedReservation[\"Check Out\"] !== undefined ? editedReservation[\"Check Out\"] : selectedReservation[\"Check Out\"];\n                  if (checkOutValue === \"Yes\" && newValue === \"No\") {\n                    alert(\"チェックアウトが「はい」の場合、チェックインに「いいえ」を選択することはできません。\");\n                    return;\n                  }\n                  setEditedReservation(prev => ({\n                    ...prev,\n                    [\"Check In\"]: newValue\n                  }));\n                },\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Yes\",\n                  children: \"Yes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 593,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"No\",\n                  children: \"No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 594,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 580,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 578,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u30C1\\u30A7\\u30C3\\u30AF\\u30A2\\u30A6\\u30C8:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 599,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: editedReservation[\"Check Out\"] !== undefined ? editedReservation[\"Check Out\"] : selectedReservation[\"Check Out\"] || \"yes\",\n                onChange: e => {\n                  const newValue = e.target.value;\n                  const checkInValue = editedReservation[\"Check In\"] !== undefined ? editedReservation[\"Check In\"] : selectedReservation[\"Check In\"];\n                  if (checkInValue === \"No\" && newValue === \"Yes\") {\n                    alert(\"チェックインが「いいえ」の場合、チェックアウトに「はい」を選択することはできません。\");\n                    return;\n                  }\n                  setEditedReservation(prev => ({\n                    ...prev,\n                    [\"Check Out\"]: newValue\n                  }));\n                },\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Yes\",\n                  children: \"Yes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 613,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"No\",\n                  children: \"No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 614,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 600,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 598,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 618,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"reservationdetailsbuttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"closemodalbtn\",\n              onClick: () => setEditReservation(false),\n              children: \"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 620,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"editreservationbtn\",\n              children: \"\\u4FDD\\u5B58\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 623,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 619,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n            children: Object.entries(selectedReservation).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [key, \":\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 633,\n                columnNumber: 29\n              }, this), \" \", value === null || value === void 0 ? void 0 : value.toString()]\n            }, key, true, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 25\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 630,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"reservationdetailsbuttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"closemodalbtn\",\n              onClick: () => setSelectedReservation(null),\n              children: \"\\u4E88\\u7D04\\u3092\\u9589\\u3058\\u308B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 639,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"editreservationbtn\",\n              onClick: () => {\n                setEditReservation(true);\n                setEditedReservation(selectedReservation);\n              },\n              children: \"\\u4E88\\u7D04\\u306E\\u7DE8\\u96C6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"deletereservationbtn\",\n              onClick: () => deleteReservation(selectedReservation),\n              children: \"\\u4E88\\u7D04\\u3092\\u524A\\u9664\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 648,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"showoncalendarbtn\",\n              onClick: () => showOnCalendar(selectedReservation),\n              children: \"\\u30AB\\u30EC\\u30F3\\u30C0\\u30FC\\u306B\\u8868\\u793A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 651,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 638,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 311,\n    columnNumber: 9\n  }, this);\n  const ReservationCalendarModal = ({\n    reservation\n  }) => {\n    _s();\n    const [calendarYear, setCalendarYear] = useState(new Date().getFullYear());\n    const [calendarMonth, setCalendarMonth] = useState(new Date().getMonth());\n    useEffect(() => {\n      if (reservation) {\n        setCalendarYear(new Date(reservation[\"Start Date\"]).getFullYear());\n        setCalendarMonth(new Date(reservation[\"Start Date\"]).getMonth());\n      }\n    }, [reservation]);\n    if (!reservation) return null;\n    const months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n\n    // Get all dates the reservation occupies\n    const reservationDates = new Set(getDatesBetween(reservation[\"Start Date\"], reservation[\"End Date\"]));\n    const roomNumber = reservation[\"Room Number\"];\n\n    // Calendar rendering logic for selected month/year\n    const daysInMonth = getDaysInMonth(calendarMonth, calendarYear);\n    const firstDay = new Date(calendarYear, calendarMonth, 1).getDay();\n    const rows = [];\n    let cells = [];\n    for (let i = 0; i < firstDay; i++) {\n      cells.push(/*#__PURE__*/_jsxDEV(\"td\", {}, `empty-${i}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 693,\n        columnNumber: 24\n      }, this));\n    }\n    for (let day = 1; day <= daysInMonth; day++) {\n      const yyyy = calendarYear;\n      const mm = String(calendarMonth + 1).padStart(2, '0');\n      const dd = String(day).padStart(2, '0');\n      const dateStr = `${yyyy}-${mm}-${dd}`;\n      const isReserved = reservationDates.has(dateStr);\n      cells.push(/*#__PURE__*/_jsxDEV(\"td\", {\n        style: {\n          background: isReserved ? \"#3ae13a\" : undefined,\n          textAlign: \"center\",\n          fontWeight: isReserved ? \"bold\" : undefined,\n          color: isReserved ? \"red\" : undefined,\n          position: \"relative\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"calendardaynumber\",\n          children: day\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 712,\n          columnNumber: 21\n        }, this), isReserved && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            top: \"50%\",\n            left: \"50%\",\n            transform: \"translate(-50%, -50%)\",\n            fontSize: \"1.1em\"\n          },\n          children: roomNumber\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 714,\n          columnNumber: 25\n        }, this)]\n      }, `${yyyy}-${calendarMonth}-${day}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 702,\n        columnNumber: 17\n      }, this));\n      if (cells.length % 7 === 0) {\n        rows.push(/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: cells\n        }, `row-${day}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 727,\n          columnNumber: 27\n        }, this));\n        cells = [];\n      }\n    }\n    if (cells.length) {\n      while (cells.length < 7) {\n        cells.push(/*#__PURE__*/_jsxDEV(\"td\", {}, `empty-end-${cells.length}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 733,\n          columnNumber: 28\n        }, this));\n      }\n      rows.push(/*#__PURE__*/_jsxDEV(\"tr\", {\n        children: cells\n      }, \"row-last\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 735,\n        columnNumber: 23\n      }, this));\n    }\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calendarcontrols\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: calendarMonth,\n          onChange: e => setCalendarMonth(Number(e.target.value)),\n          children: months.map((m, idx) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: idx,\n            children: m\n          }, m, false, {\n            fileName: _jsxFileName,\n            lineNumber: 747,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 742,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"yearselection\",\n          type: \"number\",\n          value: calendarYear,\n          onChange: e => setCalendarYear(Number(e.target.value))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 750,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 741,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 757,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calendartablewrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"calendartable\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Su\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 762,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Mo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 762,\n                columnNumber: 40\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Tu\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 762,\n                columnNumber: 51\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"We\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 762,\n                columnNumber: 62\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Th\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 762,\n                columnNumber: 73\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Fr\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 762,\n                columnNumber: 84\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Sa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 762,\n                columnNumber: 95\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 761,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 760,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: rows\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 765,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 759,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 758,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  };\n  _s(ReservationCalendarModal, \"RWuKzLALnxNv7F/olGYNu9pQIMM=\");\n  const [editRoomPrices, setEditRoomPrices] = useState(false);\n  const ChangeRoomPrices = () => {\n    _s2();\n    // Local state for editing prices\n    const [localPrices, setLocalPrices] = useState({\n      dormitory: dormitoryPrice,\n      doubleShared: doubleSharedPrice,\n      doublePrivate: doublePrivatePrice,\n      japaneseTwin: japaneseTwinPrice,\n      fourBed: fourBedPrice\n    });\n\n    // When entering edit mode, sync local state with context\n    useEffect(() => {\n      if (editRoomPrices) {\n        setLocalPrices({\n          dormitory: dormitoryPrice,\n          doubleShared: doubleSharedPrice,\n          doublePrivate: doublePrivatePrice,\n          japaneseTwin: japaneseTwinPrice,\n          fourBed: fourBedPrice\n        });\n        window.scrollTo(0, savedScroll);\n      }\n    }, [editRoomPrices]);\n\n    // Handlers for input changes\n    const handleInputChange = (key, value) => {\n      setLocalPrices(prev => ({\n        ...prev,\n        [key]: value\n      }));\n    };\n\n    // Confirm and update context\n    const handleConfirm = () => {\n      setDormitoryPrice(localPrices.dormitory);\n      setDoubleSharedPrice(localPrices.doubleShared);\n      setDoublePrivatePrice(localPrices.doublePrivate);\n      setJapenseTwinPrice(localPrices.japaneseTwin);\n      setFourBedPrice(localPrices.fourBed);\n      setEditRoomPrices(false);\n    };\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [!editRoomPrices && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"roompricewrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"roompricetitle\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\u5BA2\\u5BA4\\u6599\\u91D1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 818,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 817,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"roompriceslist\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u5BEE\\u8CBB: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 823,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\xA5\", dormitoryPrice]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 823,\n                columnNumber: 50\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 822,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u30C0\\u30D6\\u30EB\\u30B7\\u30A7\\u30A2\\u30EB\\u30FC\\u30E0\\u6599\\u91D1: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 826,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\xA5\", doubleSharedPrice]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 826,\n                columnNumber: 59\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 825,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u30C0\\u30D6\\u30EB\\u500B\\u5BA4\\u6599\\u91D1: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 829,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\xA5\", doublePrivatePrice]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 829,\n                columnNumber: 55\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 828,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u548C\\u5BA4\\u30C4\\u30A4\\u30F3\\u30EB\\u30FC\\u30E0\\u6599\\u91D1: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 832,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\xA5\", japaneseTwinPrice]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 832,\n                columnNumber: 58\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 831,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"4\\u30D9\\u30C3\\u30C9\\u30EB\\u30FC\\u30E0\\u6599\\u91D1: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 835,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\xA5\", fourBedPrice]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 835,\n                columnNumber: 57\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 834,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 821,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 820,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 839,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 840,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"editroompricesbtn\",\n          onClick: () => {\n            setSavedScroll(window.scrollY);\n            setEditRoomPrices(true);\n          },\n          children: \"\\u5BA2\\u5BA4\\u6599\\u91D1\\u3092\\u7DE8\\u96C6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 841,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 816,\n        columnNumber: 21\n      }, this), editRoomPrices && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"roompricewrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"roompricetitle\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\u5BA2\\u5BA4\\u6599\\u91D1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 851,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 850,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"roompriceslist\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u5BEE\\u8CBB: \\xA5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 856,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: localPrices.dormitory,\n                onChange: e => handleInputChange('dormitory', e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 857,\n                columnNumber: 38\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 855,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u30C0\\u30D6\\u30EB\\u30B7\\u30A7\\u30A2\\u30EB\\u30FC\\u30E0\\u6599\\u91D1: \\xA5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 860,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: localPrices.doubleShared,\n                onChange: e => handleInputChange('doubleShared', e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 861,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 859,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u30C0\\u30D6\\u30EB\\u500B\\u5BA4\\u6599\\u91D1: \\xA5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 864,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: localPrices.doublePrivate,\n                onChange: e => handleInputChange('doublePrivate', e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 865,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 863,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u548C\\u5BA4\\u30C4\\u30A4\\u30F3\\u30EB\\u30FC\\u30E0\\u6599\\u91D1: \\xA5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 868,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: localPrices.japaneseTwin,\n                onChange: e => handleInputChange('japaneseTwin', e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 869,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 867,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"4\\u30D9\\u30C3\\u30C9\\u30EB\\u30FC\\u30E0\\u6599\\u91D1: \\xA5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 872,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: localPrices.fourBed,\n                onChange: e => handleInputChange('fourBed', e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 873,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 871,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 854,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 853,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 877,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 878,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"editroompricesbtn\",\n          onClick: handleConfirm,\n          children: \"\\u5BA2\\u5BA4\\u6599\\u91D1\\u3092\\u78BA\\u8A8D\\u3059\\u308B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 879,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 849,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true);\n  };\n  _s2(ChangeRoomPrices, \"2ZHeLVNi2ktGrixWfnk1z5Mynio=\");\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 890,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 891,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 892,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 893,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 894,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bookingsmanager\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u4E88\\u7D04\\u306E\\u7BA1\\u7406\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 896,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(DisplayMonth, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 897,\n        columnNumber: 13\n      }, this), showReservationCalendar && calendarReservation && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reservationcalendaroverlay\",\n        onClick: () => setShowReservationCalendar(false),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reservationmodalcontentcalendar\",\n          onClick: e => e.stopPropagation(),\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"\\u4E88\\u7D04\\u30AB\\u30EC\\u30F3\\u30C0\\u30FC:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 903,\n              columnNumber: 25\n            }, this), calendarReservation[\"Name\"], \" (\\u90E8\\u5C4B \", calendarReservation[\"Room Number\"], \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 901,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 906,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(ReservationCalendarModal, {\n            reservation: calendarReservation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 907,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 908,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"closemodalbtn\",\n            onClick: () => setShowReservationCalendar(false),\n            children: \"\\u30AB\\u30EC\\u30F3\\u30C0\\u30FC\\u3092\\u9589\\u3058\\u308B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 909,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 900,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 899,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 895,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ReservationsTable, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 916,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 917,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ChangeRoomPrices, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 918,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(CustomFooter, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 919,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s3(ManageBookings, \"9pVqURAAMZtgFkFVfYVUgWgP1KE=\");\n_c = ManageBookings;\nexport default ManageBookings;\nvar _c;\n$RefreshReg$(_c, \"ManageBookings\");","map":{"version":3,"names":["Navbar","CustomFooter","useState","useEffect","useContext","DataContext","jsxDEV","_jsxDEV","Fragment","_Fragment","ManageBookings","_s3","_s","$RefreshSig$","_s2","savedScroll","setSavedScroll","today","Date","selectedYear","setSelectedYear","getFullYear","selectedMonth","setSelectedMonth","getMonth","reservationData","setReservationData","selectedReservation","setSelectedReservation","editReservation","setEditReservation","editedReservation","setEditedReservation","dormitoryPrice","setDormitoryPrice","doubleSharedPrice","setDoubleSharedPrice","doublePrivatePrice","setDoublePrivatePrice","japaneseTwinPrice","setJapenseTwinPrice","fourBedPrice","setFourBedPrice","roomTypeOptionsArray","dormitoryRooms","doubleSharedRooms","doubleRoomPrivate","japaneseTwinRooms","fourbedRooms","getDaysInMonth","month","year","getDate","months","selectedDay","setSelectedDay","showDayModal","setShowDayModal","dayReservations","setDayReservations","getReservationsForDate","dateStr","filter","res","start","end","d","handleDayClick","reservations","handleReservationClick","reservation","totalRooms","length","DisplayMonth","daysInMonth","firstDay","getDay","rows","cells","i","push","fileName","_jsxFileName","lineNumber","columnNumber","day","dateObj","yyyy","mm","String","padStart","dd","reservationsForDay","numReservations","uniqueRooms","Set","map","r","isHotelFull","size","className","style","position","cursor","background","undefined","onClick","children","color","fontWeight","value","onChange","e","Number","target","m","idx","type","stopPropagation","marginBottom","getReservationData","response","fetch","method","headers","credentials","data","json","ok","console","log","error","message","getRoomPrice","roomOption","getNights","startDate","endDate","diffTime","getTime","diffDays","Math","ceil","max","getEditTotal","nights","price","toFixed","deleteReservation","body","JSON","stringify","reservationId","alert","showReservationCalendar","setShowReservationCalendar","calendarReservation","setCalendarReservation","showOnCalendar","getDatesBetween","arr","sy","sm","sd","split","ey","em","ed","dt","endDt","setDate","ReservationsTable","onSubmit","preventDefault","roomNumber","checkIn","checkOut","otherReservations","optionReservations","toISOString","slice","conflict","rStart","rEnd","roomCount","dateRoomMap","rDates","isFullyBooked","date","prevDay","prevDayStr","allDates","hasBlockedBetween","updatedReservation","prev","required","newRoomOption","defaultRoom","opt","roomType","min","newValue","checkOutValue","checkInValue","Object","entries","key","toString","ReservationCalendarModal","calendarYear","setCalendarYear","calendarMonth","setCalendarMonth","reservationDates","isReserved","has","textAlign","top","left","transform","fontSize","editRoomPrices","setEditRoomPrices","ChangeRoomPrices","localPrices","setLocalPrices","dormitory","doubleShared","doublePrivate","japaneseTwin","fourBed","window","scrollTo","handleInputChange","handleConfirm","scrollY","_c","$RefreshReg$"],"sources":["C:/Users/kevin/.vscode/RealEstateAppBackup/realestateappfrontend/realestateapp/src/ManageBooking_J.js"],"sourcesContent":["import './ManageBooking.css';\r\nimport Navbar from './Custom_Navbar_J';\r\nimport CustomFooter from './Custom_Footer_J';\r\nimport { useState, useEffect, useContext } from 'react';\r\nimport { DataContext } from './DataProvider';\r\n\r\nconst ManageBookings = () => {\r\n\r\n    const [savedScroll, setSavedScroll] = useState(0);\r\n    const today = new Date();\r\n    const [selectedYear, setSelectedYear] = useState(today.getFullYear());\r\n    const [selectedMonth, setSelectedMonth] = useState(today.getMonth());\r\n    const [ reservationData, setReservationData ] = useState([]);\r\n    const [selectedReservation, setSelectedReservation] = useState(null);\r\n    const [ editReservation, setEditReservation ] = useState(false);\r\n    const [editedReservation, setEditedReservation] = useState({});\r\n    const { dormitoryPrice, setDormitoryPrice, doubleSharedPrice, setDoubleSharedPrice, doublePrivatePrice, setDoublePrivatePrice, japaneseTwinPrice, setJapenseTwinPrice, fourBedPrice, setFourBedPrice } = useContext(DataContext);\r\n\r\n    //Room Option Variables\r\n    const roomTypeOptionsArray = ['Dormitory', 'Double Room Shared Toilet & Shower', 'Double Room Private Toilet & Bath', 'Japanese Twin Room', '4 Bed Room']\r\n    const dormitoryRooms = ['202A', '202B', '202C', '202D', '202E', '202F', '202G', '202H', '202I', '202K', '202L', '203A', '203B', '203C', '203D', '203E', '203F', '203G', '203H', '203I', '203K', '203L', '204A', '204B', '204C', '204D', '204E', '204F', '204G', '204H', '204I', '204K', '204L'];\r\n    const doubleSharedRooms = ['201', '205'];\r\n    const doubleRoomPrivate = ['206', '207'];\r\n    const japaneseTwinRooms = ['301', '302', '303', '304', '305', '306', '307'];\r\n    const fourbedRooms = ['401', '402', '403', '404', '405', '406'];\r\n\r\n\r\n\r\n    //Calendar Generation Helper\r\n    function getDaysInMonth(month, year) {\r\n        return new Date(year, month + 1, 0).getDate();\r\n    };\r\n\r\n    const months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n    const [selectedDay, setSelectedDay] = useState(null); // e.g. '2025-06-12'\r\n    const [showDayModal, setShowDayModal] = useState(false);\r\n    const [dayReservations, setDayReservations] = useState([]);\r\n\r\n    //Helper function to get all reservations for a given day\r\n    const getReservationsForDate = (dateStr) => {\r\n        return reservationData.filter(res => {\r\n            const start = new Date(res[\"Start Date\"]);\r\n            const end = new Date(res[\"End Date\"]);\r\n            const d = new Date(dateStr);\r\n            return d >= start && d <= end;\r\n        });\r\n        };\r\n\r\n    //Handler for clicking a day\r\n    const handleDayClick = (dateStr) => {\r\n        const reservations = getReservationsForDate(dateStr);\r\n        setDayReservations(reservations);\r\n        setSelectedDay(dateStr);\r\n        setShowDayModal(true);\r\n    };\r\n\r\n    //Handler for selecting a reservation within the day\r\n    const handleReservationClick = (reservation) => {\r\n        setSelectedReservation(reservation);\r\n        setEditReservation(false);\r\n        setShowDayModal(false);\r\n    };\r\n\r\n    //Calculate Total rooms in building\r\n    const totalRooms = dormitoryRooms.length + doubleSharedRooms.length + doubleRoomPrivate.length + japaneseTwinRooms.length + fourbedRooms.length;\r\n\r\n    const DisplayMonth = () => {\r\n        const daysInMonth = getDaysInMonth(selectedMonth, selectedYear);\r\n        const firstDay = new Date(selectedYear, selectedMonth, 1).getDay();\r\n\r\n        const rows = [];\r\n        let cells = [];\r\n\r\n        for (let i = 0; i < firstDay; i++) {\r\n            cells.push(<td key={`empty-${i}`}></td>);\r\n        }\r\n\r\n         for (let day = 1; day <= daysInMonth; day++) {\r\n            const dateObj = new Date(selectedYear, selectedMonth, day);\r\n            const yyyy = dateObj.getFullYear();\r\n            const mm = String(dateObj.getMonth() + 1).padStart(2, '0');\r\n            const dd = String(dateObj.getDate()).padStart(2, '0');\r\n            const dateStr = `${yyyy}-${mm}-${dd}`;\r\n            const reservationsForDay = getReservationsForDate(dateStr);\r\n            const numReservations = reservationsForDay.length;\r\n            const uniqueRooms = new Set(reservationsForDay.map(r => r[\"Room Number\"]));\r\n            const isHotelFull = uniqueRooms.size >= totalRooms;\r\n\r\n\r\n            cells.push(\r\n                <td\r\n                    key={`${selectedYear}-${selectedMonth}-${day}`}\r\n                    className={isHotelFull ? \"hotel-full\" : \"\"}\r\n                    style={{ position: \"relative\", cursor: \"pointer\", background: isHotelFull ? \"#ffcccc\" : undefined }}\r\n                    onClick={() => handleDayClick(dateStr)}\r\n                >\r\n                    <div className=\"calendardaynumber\">{day}</div>\r\n                    {isHotelFull ? (\r\n                        <div style={{ color: \"red\", fontWeight: \"bold\" }}>ホテル満室</div>\r\n                    ) : (\r\n                        <div className=\"reservationtotal\">{numReservations} 予約{numReservations !== 1 ? \"s\" : \"\"}</div>\r\n                    )}\r\n                </td>\r\n            );\r\n            if ((cells.length) % 7 === 0) {\r\n                rows.push(<tr key={`row-${day}`}>{cells}</tr>);\r\n                cells = [];\r\n            }\r\n        }\r\n\r\n        if (cells.length) {\r\n            while (cells.length < 7) {\r\n                cells.push(<td key={`empty-end-${cells.length}`}></td>);\r\n            }\r\n            rows.push(<tr key=\"row-last\">{cells}</tr>);\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <div className=\"bookingmanagercalendarbody\">\r\n                    <div className=\"calendarcontrols\">\r\n                        <select\r\n                            value={selectedMonth}\r\n                            onChange={e => {\r\n                            setSelectedMonth(Number(e.target.value));\r\n                            }}\r\n                        >\r\n                        {months.map((m, idx) => (\r\n                        <option key={m} value={idx}>{m}</option>\r\n                        ))}\r\n                    </select>\r\n                    <input\r\n                        className=\"yearselection\"\r\n                        type=\"number\"\r\n                        value={selectedYear}\r\n                        onChange={e => {\r\n                        setSelectedYear(Number(e.target.value));\r\n                        }}\r\n                    />\r\n                    <br/>\r\n                    <br/>\r\n                    <br/>\r\n                    <br/>\r\n                    </div>\r\n                    <div className=\"calendartablewrapper\">\r\n                        <table className=\"calendartable\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>Su</th><th>Mo</th><th>Tu</th><th>We</th><th>Th</th><th>Fr</th><th>Sa</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>{rows}</tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n                {/* Day Modal */}\r\n                {showDayModal && (\r\n                    <div className=\"reservationmodaloverlay\" onClick={() => setShowDayModal(false)}>\r\n                        <div className=\"reservationmodalcontentcalendar\" onClick={e => e.stopPropagation()}>\r\n                            <h3>ご予約 {selectedDay}</h3>\r\n                            <br/>\r\n\r\n                            {dayReservations.length === 0 ? (\r\n                                <>\r\n                                <div>この日は予約がありません。</div>\r\n                                <br/>\r\n                                </>\r\n                            ) : (\r\n                                <ul>\r\n                                    {dayReservations.map(res => (\r\n                                        <>\r\n                                        <li key={res[\"Reservation ID\"]} style={{ marginBottom: \"10px\", cursor: \"pointer\" }} onClick={() => handleReservationClick(res)}>\r\n                                            <strong>{res[\"Name\"]}: </strong> 部屋 {res[\"Room Number\"]}, {res[\"Room Option\"]}, チェックイン: {res[\"Check In\"]}, チェックアウト: {res[\"Check Out\"]}\r\n                                        </li>\r\n                                        <br/>\r\n                                        </>\r\n                                    ))}\r\n                                </ul>\r\n                            )}\r\n                            <button className=\"closemodalbtn\" onClick={() => setShowDayModal(false)}>近い</button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </>\r\n        );\r\n    };\r\n\r\n    //Get Reservation Data Function\r\n    const getReservationData = async () => {\r\n\r\n\r\n        //GET request\r\n        try {\r\n            const response = await fetch('http://localhost:5000/reservationdata',\r\n                {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                credentials: 'include', //This allows cookies to be sent and received\r\n                }\r\n            );\r\n\r\n\r\n            const data = await response.json();\r\n\r\n            //Valid response check\r\n            if (response.ok) {\r\n                setReservationData(data.data);\r\n                console.log('Reservations Received');\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error Retrieving Reservations:\", error.response ? error.response.data : error.message);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        getReservationData();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        console.log(\"Rservation Data: \", reservationData);\r\n    }, [reservationData]);\r\n\r\n    // Helper to get price per room type\r\n    const getRoomPrice = (roomOption) => {\r\n        switch(roomOption) {\r\n            case 'Dormitory': return dormitoryPrice;\r\n            case 'Double Room Shared Toilet & Shower': return doubleSharedPrice;\r\n            case 'Double Room Private Toilet & Bath': return doublePrivatePrice;\r\n            case 'Japanese Twin Room': return japaneseTwinPrice;\r\n            case '4 Bed Room': return fourBedPrice;\r\n            default: return 0;\r\n        }\r\n    };\r\n\r\n    // Helper to get number of nights (exclusive of end date)\r\n    const getNights = (startDate, endDate) => {\r\n        const start = new Date(startDate);\r\n        const end = new Date(endDate);\r\n        // Nights = difference in days (exclusive of end date)\r\n        const diffTime = end.getTime() - start.getTime();\r\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n        return Math.max(1, diffDays);\r\n    };\r\n\r\n    // Calculate total for the current edit form\r\n    const getEditTotal = () => {\r\n        const startDate = editedReservation[\"Start Date\"] || selectedReservation[\"Start Date\"];\r\n        const endDate = editedReservation[\"End Date\"] || selectedReservation[\"End Date\"];\r\n        const roomOption = editedReservation[\"Room Option\"] || selectedReservation[\"Room Option\"];\r\n        if (!startDate || !endDate || !roomOption) return 0;\r\n        const nights = getNights(startDate, endDate);\r\n        const price = getRoomPrice(roomOption);\r\n        return (nights * price).toFixed(2);\r\n    };\r\n\r\n    const deleteReservation = async (reservation) => {\r\n        try {\r\n            const response = await fetch('http://localhost:5000/reservationdelete', {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ reservationId: reservation[\"Reservation ID\"] }),\r\n            credentials: 'include',\r\n            });\r\n\r\n            if (response.ok) {\r\n                getReservationData();\r\n                setSelectedReservation(null);\r\n                setEditReservation(false);\r\n                alert(\"予約を削除しました\")\r\n            } else {\r\n                alert(\"予約の削除に失敗しました。\");\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error Deleting Reservation: \", error);\r\n        }\r\n    }\r\n\r\n    //Calendar for showing reservation date ranges\r\n\r\n    // State for reservation calendar modal\r\n    const [showReservationCalendar, setShowReservationCalendar] = useState(false);\r\n    const [calendarReservation, setCalendarReservation] = useState(null);\r\n\r\n    const showOnCalendar = (reservation) => {\r\n        setCalendarReservation(reservation);\r\n        setShowReservationCalendar(true);\r\n    };\r\n\r\n    // Helper: get all dates between two dates (inclusive)\r\n    function getDatesBetween(start, end) {\r\n        const arr = [];\r\n        // Parse start and end as year, month, day (local)\r\n        const [sy, sm, sd] = start.split('-').map(Number);\r\n        const [ey, em, ed] = end.split('-').map(Number);\r\n        let dt = new Date(sy, sm - 1, sd);\r\n        const endDt = new Date(ey, em - 1, ed);\r\n        while (dt <= endDt) {\r\n            const yyyy = dt.getFullYear();\r\n            const mm = String(dt.getMonth() + 1).padStart(2, '0');\r\n            const dd = String(dt.getDate()).padStart(2, '0');\r\n            arr.push(`${yyyy}-${mm}-${dd}`);\r\n            dt.setDate(dt.getDate() + 1);\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    const ReservationsTable = () => (\r\n        <div className=\"reservationstablewrapper\">\r\n            <h2>予約</h2>\r\n            <br />\r\n            <br />\r\n            <table>\r\n            <thead>\r\n                <tr>\r\n                <th>名前</th>\r\n                <th>開始日</th>\r\n                <th>終了日</th>\r\n                <th>部屋番号</th>\r\n                <th>部屋オプション</th>\r\n                <th>人々</th>\r\n                <th>合計</th>\r\n                <th>予約ID</th>\r\n                <th>チェックイン</th>\r\n                <th>チェックアウト</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {reservationData.map((res, idx) => (\r\n                <tr\r\n                    key={idx}\r\n                    onClick={() => { setSelectedReservation(res); setEditReservation(false); }}\r\n                    className=\"reservationrow\"\r\n                >\r\n                    <td>{res[\"Name\"]}</td>\r\n                    <td>{res[\"Start Date\"]}</td>\r\n                    <td>{res[\"End Date\"]}</td>\r\n                    <td>{res[\"Room Number\"]}</td>\r\n                    <td>{res[\"Room Option\"]}</td>\r\n                    <td>{res[\"People\"]}</td>\r\n                    <td>{res[\"Total\"]}</td>\r\n                    <td>{res[\"Reservation ID\"]}</td>\r\n                    <td>{res[\"Check In\"]}</td>\r\n                    <td>{res[\"Check Out\"]}</td>\r\n                </tr>\r\n                ))}\r\n            </tbody>\r\n            </table>\r\n            {/* Modal logic */}\r\n            {selectedReservation && (\r\n            <div\r\n                className=\"reservationmodaloverlay\"\r\n                onClick={() => { setSelectedReservation(null); setEditReservation(false); }}\r\n            >\r\n                <div className=\"reservationmodalcontent\" onClick={e => e.stopPropagation()}>\r\n                <h3>予約の詳細</h3>\r\n                <br />\r\n                {editReservation ? (\r\n                    <form\r\n                        onSubmit={async (e) => {\r\n                        e.preventDefault();\r\n                        // Conflict check before submit\r\n                        const startDate = editedReservation[\"Start Date\"] || selectedReservation[\"Start Date\"];\r\n                        const endDate = editedReservation[\"End Date\"] || selectedReservation[\"End Date\"];\r\n                        const roomOption = editedReservation[\"Room Option\"] || selectedReservation[\"Room Option\"];\r\n                        const roomNumber = editedReservation[\"Room Number\"] || selectedReservation[\"Room Number\"];\r\n                        const reservationId = selectedReservation[\"Reservation ID\"];\r\n                        const checkIn = selectedReservation[\"Check In\"];\r\n                        const checkOut = selectedReservation[\"Check Out\"];\r\n\r\n                        // Helper: get all reservations for this room option, excluding the one being edited\r\n                        const otherReservations = reservationData.filter(\r\n                            r =>\r\n                            r[\"Room Option\"] === roomOption &&\r\n                            r[\"Room Number\"] === roomNumber &&\r\n                            r[\"Reservation ID\"] !== reservationId\r\n                        );\r\n\r\n                        // Helper: get all reservations for this room option (for fully booked logic)\r\n                        const optionReservations = reservationData.filter(\r\n                            r => r[\"Room Option\"] === roomOption && r[\"Reservation ID\"] !== reservationId\r\n                        );\r\n\r\n                        // Helper: get all dates between two dates (inclusive)\r\n                        function getDatesBetween(start, end) {\r\n                            const arr = [];\r\n                            let dt = new Date(start);\r\n                            while (dt <= new Date(end)) {\r\n                            arr.push(dt.toISOString().slice(0, 10));\r\n                            dt.setDate(dt.getDate() + 1);\r\n                            }\r\n                            return arr;\r\n                        }\r\n\r\n                        // 1. Check for overlap with other reservations for the same room/option\r\n                        let conflict = false;\r\n                        for (const r of otherReservations) {\r\n                            const rStart = r[\"Start Date\"];\r\n                            const rEnd = r[\"End Date\"];\r\n                            if (\r\n                            (startDate < rEnd && endDate > rStart)\r\n                            ) {\r\n                            conflict = true;\r\n                            break;\r\n                            }\r\n                        }\r\n\r\n                        // 2. Check for fully booked days (adjacent/within)\r\n                        // Build a map of date => count of rooms booked for this option\r\n                        const roomCount =\r\n                            roomOption === \"Dormitory\" ? dormitoryRooms.length :\r\n                            roomOption === \"Double Room Shared Toilet & Shower\" ? doubleSharedRooms.length :\r\n                            roomOption === \"Double Room Private Toilet & Bath\" ? doubleRoomPrivate.length :\r\n                            roomOption === \"Japanese Twin Room\" ? japaneseTwinRooms.length :\r\n                            roomOption === \"4 Bed Room\" ? fourbedRooms.length : 0;\r\n\r\n                        const dateRoomMap = {};\r\n                        for (const r of optionReservations) {\r\n                            const rDates = getDatesBetween(r[\"Start Date\"], r[\"End Date\"]);\r\n                            for (const d of rDates) {\r\n                            dateRoomMap[d] = (dateRoomMap[d] || 0) + 1;\r\n                            }\r\n                        }\r\n\r\n                        // Helper: is a date fully booked for this option?\r\n                        function isFullyBooked(date) {\r\n                            return (dateRoomMap[date] || 0) >= roomCount;\r\n                        }\r\n\r\n                        // Check for adjacent fully booked start date\r\n                        const prevDay = new Date(startDate);\r\n                        prevDay.setDate(prevDay.getDate() - 1);\r\n                        const prevDayStr = prevDay.toISOString().slice(0, 10);\r\n                        if (isFullyBooked(prevDayStr)) {\r\n                            alert(\"この客室タイプでは、満室の日に隣接する開始日を選択することはできません。\");\r\n                            return;\r\n                        }\r\n\r\n                        // Check for fully booked days strictly between start and end\r\n                        const allDates = getDatesBetween(startDate, endDate);\r\n                        let hasBlockedBetween = false;\r\n                        for (let i = 1; i < allDates.length - 1; i++) {\r\n                            if (isFullyBooked(allDates[i])) {\r\n                            hasBlockedBetween = true;\r\n                            break;\r\n                            }\r\n                        }\r\n                        if (hasBlockedBetween) {\r\n                            alert(\"この客室タイプでは、開始日と終了日の間に満室の日がある場合、終了日を選択することはできません。\");\r\n                            return;\r\n                        }\r\n\r\n                        if (conflict) {\r\n                            alert(\"この部屋は選択した日付ですでに予約されています。\");\r\n                            return;\r\n                        }\r\n\r\n                        // If all checks pass, submit as before\r\n                        const updatedReservation = { ...selectedReservation, ...editedReservation };\r\n                        try {\r\n                            const response = await fetch('http://localhost:5000/reservationdataupdate', {\r\n                            method: 'POST',\r\n                            headers: { 'Content-Type': 'application/json' },\r\n                            body: JSON.stringify(updatedReservation),\r\n                            credentials: 'include',\r\n                            });\r\n                            if (response.ok) {\r\n                                getReservationData();\r\n                                setSelectedReservation(updatedReservation);\r\n                                setEditReservation(false);\r\n                            }\r\n                        } catch (error) {\r\n                            console.error(\"Failed to Update Reservation: \", error);\r\n                            alert(\"予約の更新中にエラーが発生しました。\");\r\n                        }\r\n                        }}\r\n                    >\r\n\r\n                        <ul>\r\n                            {/* Name */}\r\n                            <li>\r\n                            <strong>名前:</strong>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={editedReservation[\"Name\"] !== undefined ? editedReservation[\"Name\"] : selectedReservation[\"Name\"]}\r\n                                onChange={e => setEditedReservation(prev => ({ ...prev, [\"Name\"]: e.target.value }))}\r\n                                required\r\n                            />\r\n                            </li>\r\n                            {/* Start Date */}\r\n                            <li>\r\n                            <strong>開始日:</strong>\r\n                            <input\r\n                                type=\"date\"\r\n                                value={editedReservation[\"Start Date\"] !== undefined ? editedReservation[\"Start Date\"] : selectedReservation[\"Start Date\"]}\r\n                                onChange={e => setEditedReservation(prev => ({ ...prev, [\"Start Date\"]: e.target.value }))}\r\n                                required\r\n                            />\r\n                            </li>\r\n                            {/* End Date */}\r\n                            <li>\r\n                            <strong>終了日:</strong>\r\n                            <input\r\n                                type=\"date\"\r\n                                value={editedReservation[\"End Date\"] !== undefined ? editedReservation[\"End Date\"] : selectedReservation[\"End Date\"]}\r\n                                onChange={e => setEditedReservation(prev => ({ ...prev, [\"End Date\"]: e.target.value }))}\r\n                                required\r\n                            />\r\n                            </li>\r\n                            {/* Room Option */}\r\n                            <li>\r\n                            <strong>部屋オプション:</strong>\r\n                            <select\r\n                                value={editedReservation[\"Room Option\"] !== undefined ? editedReservation[\"Room Option\"] : selectedReservation[\"Room Option\"]}\r\n                                onChange={e => {\r\n                                    const newRoomOption = e.target.value;\r\n                                    let defaultRoom = \"\";\r\n                                    if (newRoomOption === 'Dormitory') defaultRoom = dormitoryRooms[0];\r\n                                    else if (newRoomOption === 'Double Room Shared Toilet & Shower') defaultRoom = doubleSharedRooms[0];\r\n                                    else if (newRoomOption === 'Double Room Private Toilet & Bath') defaultRoom = doubleRoomPrivate[0];\r\n                                    else if (newRoomOption === 'Japanese Twin Room') defaultRoom = japaneseTwinRooms[0];\r\n                                    else if (newRoomOption === '4 Bed Room') defaultRoom = fourbedRooms[0];\r\n                                    setEditedReservation(prev => ({\r\n                                    ...prev,\r\n                                    [\"Room Option\"]: newRoomOption,\r\n                                    [\"Room Number\"]: defaultRoom // set default room number\r\n                                    }));\r\n                                }}\r\n                                required\r\n                                >\r\n                                {roomTypeOptionsArray.map(opt => (\r\n                                    <option key={opt} value={opt}>{opt}</option>\r\n                                ))}\r\n                                </select>\r\n                            </li>\r\n                            {/* Room Number */}\r\n                            <li>\r\n                            <strong>部屋番号:</strong>\r\n                            <select\r\n                                value={editedReservation[\"Room Number\"] !== undefined ? editedReservation[\"Room Number\"] : selectedReservation[\"Room Number\"]}\r\n                                onChange={e => setEditedReservation(prev => ({ ...prev, [\"Room Number\"]: e.target.value }))}\r\n                                required\r\n                            >\r\n                                {(() => {\r\n                                const roomType = editedReservation[\"Room Option\"] !== undefined ? editedReservation[\"Room Option\"] : selectedReservation[\"Room Option\"];\r\n                                if (roomType === 'Dormitory') return dormitoryRooms.map(r => <option key={r} value={r}>{r}</option>);\r\n                                if (roomType === 'Double Room Shared Toilet & Shower') return doubleSharedRooms.map(r => <option key={r} value={r}>{r}</option>);\r\n                                if (roomType === 'Double Room Private Toilet & Bath') return doubleRoomPrivate.map(r => <option key={r} value={r}>{r}</option>);\r\n                                if (roomType === 'Japanese Twin Room') return japaneseTwinRooms.map(r => <option key={r} value={r}>{r}</option>);\r\n                                if (roomType === '4 Bed Room') return fourbedRooms.map(r => <option key={r} value={r}>{r}</option>);\r\n                                return null;\r\n                                })()}\r\n                            </select>\r\n                            </li>\r\n                            {/* People */}\r\n                            <li>\r\n                            <strong>人々:</strong>\r\n                            <input\r\n                                type=\"number\"\r\n                                min={1}\r\n                                value={editedReservation[\"People\"] !== undefined ? editedReservation[\"People\"] : selectedReservation[\"People\"]}\r\n                                onChange={e => setEditedReservation(prev => ({ ...prev, [\"People\"]: e.target.value }))}\r\n                                required\r\n                            />\r\n                            </li>\r\n                            {/* Total */}\r\n                            <li>\r\n                                <strong>合計:</strong> ¥{getEditTotal()}\r\n                            </li>\r\n                            {/* Reservation ID (read-only) */}\r\n                            <li>\r\n                            <strong>予約ID: </strong>\r\n                                {selectedReservation[\"Reservation ID\"]}\r\n                            </li>\r\n                            {/* Check In */}\r\n                            <li>\r\n                            <strong>チェックイン:</strong>\r\n                                <select\r\n                                    value={editedReservation[\"Check In\"] !== undefined ? editedReservation[\"Check In\"] : selectedReservation[\"Check In\"] || \"Yes\"}\r\n                                    onChange={e => {\r\n                                        const newValue = e.target.value;\r\n                                        const checkOutValue = editedReservation[\"Check Out\"] !== undefined ? editedReservation[\"Check Out\"] : selectedReservation[\"Check Out\"];\r\n                                        if (checkOutValue === \"Yes\" && newValue === \"No\") {\r\n                                            alert(\"チェックアウトが「はい」の場合、チェックインに「いいえ」を選択することはできません。\");\r\n                                            return;\r\n                                        }\r\n                                        setEditedReservation(prev => ({ ...prev, [\"Check In\"]: newValue }));\r\n                                    }}\r\n                                    required\r\n                                >\r\n                                    <option value=\"Yes\">Yes</option>\r\n                                    <option value=\"No\">No</option>\r\n                                </select>\r\n                            </li>\r\n                            {/* Check Out */}\r\n                            <li>\r\n                                <strong>チェックアウト:</strong>\r\n                                <select\r\n                                    value={editedReservation[\"Check Out\"] !== undefined ? editedReservation[\"Check Out\"] : selectedReservation[\"Check Out\"] || \"yes\"}\r\n                                    onChange={e => {\r\n                                    const newValue = e.target.value;\r\n                                    const checkInValue = editedReservation[\"Check In\"] !== undefined ? editedReservation[\"Check In\"] : selectedReservation[\"Check In\"];\r\n                                    if (checkInValue === \"No\" && newValue === \"Yes\") {\r\n                                        alert(\"チェックインが「いいえ」の場合、チェックアウトに「はい」を選択することはできません。\");\r\n                                        return;\r\n                                    }\r\n                                    setEditedReservation(prev => ({ ...prev, [\"Check Out\"]: newValue }));\r\n                                    }}\r\n                                    required\r\n                                >\r\n                                    <option value=\"Yes\">Yes</option>\r\n                                    <option value=\"No\">No</option>\r\n                                </select>\r\n                            </li>\r\n                        </ul>\r\n                        <br />\r\n                        <div className=\"reservationdetailsbuttons\">\r\n                            <button type=\"button\" className=\"closemodalbtn\" onClick={() => setEditReservation(false)}>\r\n                            キャンセル\r\n                            </button>\r\n                            <button type=\"submit\" className=\"editreservationbtn\">\r\n                            保存\r\n                            </button>\r\n                        </div>\r\n                        </form>\r\n                ) : (\r\n                    <>\r\n                    <ul>\r\n                        {Object.entries(selectedReservation).map(([key, value]) => (\r\n                        <li key={key}>\r\n                            <strong>{key}:</strong> {value?.toString()}\r\n                        </li>\r\n                        ))}\r\n                    </ul>\r\n                    <br />\r\n                    <div className=\"reservationdetailsbuttons\">\r\n                        <button className=\"closemodalbtn\" onClick={() => setSelectedReservation(null)}>\r\n                        予約を閉じる\r\n                        </button>\r\n                        <button className=\"editreservationbtn\" onClick={() => {\r\n                        setEditReservation(true);\r\n                        setEditedReservation(selectedReservation);\r\n                        }}>\r\n                        予約の編集\r\n                        </button>\r\n                        <button className=\"deletereservationbtn\" onClick={() => deleteReservation(selectedReservation)}>\r\n                        予約を削除\r\n                        </button>\r\n                        <button\r\n                            className=\"showoncalendarbtn\"\r\n                            onClick={() => showOnCalendar(selectedReservation)}\r\n                            >\r\n                            カレンダーに表示\r\n                        </button>\r\n                    </div>\r\n                    </>\r\n                )}\r\n                </div>\r\n            </div>\r\n            )}\r\n        </div>\r\n    );\r\n\r\n    const ReservationCalendarModal = ({ reservation }) => {\r\n\r\n        const [calendarYear, setCalendarYear] = useState(new Date().getFullYear());\r\n        const [calendarMonth, setCalendarMonth] = useState(new Date().getMonth());\r\n\r\n        useEffect(() => {\r\n            if (reservation) {\r\n                setCalendarYear(new Date(reservation[\"Start Date\"]).getFullYear());\r\n                setCalendarMonth(new Date(reservation[\"Start Date\"]).getMonth());\r\n            }\r\n        }, [reservation]);\r\n\r\n\r\n        if (!reservation) return null;\r\n\r\n        const months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\n        // Get all dates the reservation occupies\r\n        const reservationDates = new Set(getDatesBetween(reservation[\"Start Date\"], reservation[\"End Date\"]));\r\n        const roomNumber = reservation[\"Room Number\"];\r\n\r\n        // Calendar rendering logic for selected month/year\r\n        const daysInMonth = getDaysInMonth(calendarMonth, calendarYear);\r\n        const firstDay = new Date(calendarYear, calendarMonth, 1).getDay();\r\n        const rows = [];\r\n        let cells = [];\r\n        for (let i = 0; i < firstDay; i++) {\r\n            cells.push(<td key={`empty-${i}`}></td>);\r\n        }\r\n        for (let day = 1; day <= daysInMonth; day++) {\r\n            const yyyy = calendarYear;\r\n            const mm = String(calendarMonth + 1).padStart(2, '0');\r\n            const dd = String(day).padStart(2, '0');\r\n            const dateStr = `${yyyy}-${mm}-${dd}`;\r\n            const isReserved = reservationDates.has(dateStr);\r\n            cells.push(\r\n                <td\r\n                    key={`${yyyy}-${calendarMonth}-${day}`}\r\n                    style={{\r\n                        background: isReserved ? \"#3ae13a\" : undefined,\r\n                        textAlign: \"center\",\r\n                        fontWeight: isReserved ? \"bold\" : undefined,\r\n                        color: isReserved ? \"red\" : undefined,\r\n                        position: \"relative\"\r\n                    }}\r\n                >\r\n                    <div className=\"calendardaynumber\">{day}</div>\r\n                    {isReserved && (\r\n                        <div style={{\r\n                            position: \"absolute\",\r\n                            top: \"50%\",\r\n                            left: \"50%\",\r\n                            transform: \"translate(-50%, -50%)\",\r\n                            fontSize: \"1.1em\"\r\n                        }}>\r\n                            {roomNumber}\r\n                        </div>\r\n                    )}\r\n                </td>\r\n            );\r\n            if ((cells.length) % 7 === 0) {\r\n                rows.push(<tr key={`row-${day}`}>{cells}</tr>);\r\n                cells = [];\r\n            }\r\n        }\r\n        if (cells.length) {\r\n            while (cells.length < 7) {\r\n                cells.push(<td key={`empty-end-${cells.length}`}></td>);\r\n            }\r\n            rows.push(<tr key=\"row-last\">{cells}</tr>);\r\n        }\r\n\r\n        return (\r\n\r\n            <>\r\n            <div className=\"calendarcontrols\">\r\n                    <select\r\n                        value={calendarMonth}\r\n                        onChange={e => setCalendarMonth(Number(e.target.value))}\r\n                    >\r\n                        {months.map((m, idx) => (\r\n                            <option key={m} value={idx}>{m}</option>\r\n                        ))}\r\n                    </select>\r\n                    <input\r\n                        className=\"yearselection\"\r\n                        type=\"number\"\r\n                        value={calendarYear}\r\n                        onChange={e => setCalendarYear(Number(e.target.value))}\r\n                    />\r\n            </div>\r\n            <br/>\r\n            <div className=\"calendartablewrapper\">\r\n                <table className=\"calendartable\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Su</th><th>Mo</th><th>Tu</th><th>We</th><th>Th</th><th>Fr</th><th>Sa</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>{rows}</tbody>\r\n                </table>\r\n            </div>\r\n        </>\r\n        );\r\n    };\r\n\r\n    const [ editRoomPrices, setEditRoomPrices ] = useState(false);\r\n\r\n    const ChangeRoomPrices = () => {\r\n        // Local state for editing prices\r\n        const [localPrices, setLocalPrices] = useState({\r\n            dormitory: dormitoryPrice,\r\n            doubleShared: doubleSharedPrice,\r\n            doublePrivate: doublePrivatePrice,\r\n            japaneseTwin: japaneseTwinPrice,\r\n            fourBed: fourBedPrice\r\n        });\r\n\r\n        // When entering edit mode, sync local state with context\r\n        useEffect(() => {\r\n            if (editRoomPrices) {\r\n                setLocalPrices({\r\n                    dormitory: dormitoryPrice,\r\n                    doubleShared: doubleSharedPrice,\r\n                    doublePrivate: doublePrivatePrice,\r\n                    japaneseTwin: japaneseTwinPrice,\r\n                    fourBed: fourBedPrice\r\n                });\r\n                window.scrollTo(0, savedScroll);\r\n            }\r\n        }, [editRoomPrices]);\r\n\r\n        // Handlers for input changes\r\n        const handleInputChange = (key, value) => {\r\n            setLocalPrices(prev => ({ ...prev, [key]: value }));\r\n        };\r\n\r\n        // Confirm and update context\r\n        const handleConfirm = () => {\r\n            setDormitoryPrice(localPrices.dormitory);\r\n            setDoubleSharedPrice(localPrices.doubleShared);\r\n            setDoublePrivatePrice(localPrices.doublePrivate);\r\n            setJapenseTwinPrice(localPrices.japaneseTwin);\r\n            setFourBedPrice(localPrices.fourBed);\r\n            setEditRoomPrices(false);\r\n        };\r\n\r\n        return (\r\n            <>\r\n                {!editRoomPrices && (\r\n                    <div className=\"roompricewrapper\">\r\n                        <div className=\"roompricetitle\">\r\n                            <h2>客室料金</h2>\r\n                        </div>\r\n                        <div className=\"roompriceslist\">\r\n                            <ul>\r\n                                <li>\r\n                                    <h3>寮費: </h3><p>¥{dormitoryPrice}</p>\r\n                                </li>\r\n                                <li>\r\n                                    <h3>ダブルシェアルーム料金: </h3><p>¥{doubleSharedPrice}</p>\r\n                                </li>\r\n                                <li>\r\n                                    <h3>ダブル個室料金: </h3><p>¥{doublePrivatePrice}</p>\r\n                                </li>\r\n                                <li>\r\n                                    <h3>和室ツインルーム料金: </h3><p>¥{japaneseTwinPrice}</p>\r\n                                </li>\r\n                                <li>\r\n                                    <h3>4ベッドルーム料金: </h3><p>¥{fourBedPrice}</p>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <br/>\r\n                        <br/>\r\n                        <button className=\"editroompricesbtn\" onClick={() => {\r\n                            setSavedScroll(window.scrollY);\r\n                            setEditRoomPrices(true);\r\n                        }}>客室料金を編集</button>\r\n                    </div>\r\n                )}\r\n\r\n                {editRoomPrices && (\r\n                    <div className=\"roompricewrapper\">\r\n                        <div className=\"roompricetitle\">\r\n                            <h2>客室料金</h2>\r\n                        </div>\r\n                        <div className=\"roompriceslist\">\r\n                            <ul>\r\n                                <li>\r\n                                    <h3>寮費: ¥</h3>\r\n                                     <input type=\"number\" value={localPrices.dormitory} onChange={e => handleInputChange('dormitory', e.target.value)} />\r\n                                </li>\r\n                                <li>\r\n                                    <h3>ダブルシェアルーム料金: ¥</h3>\r\n                                    <input type=\"number\" value={localPrices.doubleShared} onChange={e => handleInputChange('doubleShared', e.target.value)} />\r\n                                </li>\r\n                                <li>\r\n                                    <h3>ダブル個室料金: ¥</h3>\r\n                                    <input type=\"number\" value={localPrices.doublePrivate} onChange={e => handleInputChange('doublePrivate', e.target.value)} />\r\n                                </li>\r\n                                <li>\r\n                                    <h3>和室ツインルーム料金: ¥</h3>\r\n                                    <input type=\"number\" value={localPrices.japaneseTwin} onChange={e => handleInputChange('japaneseTwin', e.target.value)} />\r\n                                </li>\r\n                                <li>\r\n                                    <h3>4ベッドルーム料金: ¥</h3>\r\n                                    <input type=\"number\" value={localPrices.fourBed} onChange={e => handleInputChange('fourBed', e.target.value)} />\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <br/>\r\n                        <br/>\r\n                        <button className=\"editroompricesbtn\" onClick={handleConfirm}>客室料金を確認する</button>\r\n                    </div>\r\n                )}\r\n            </>\r\n        );\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n        <Navbar/>\r\n        <br/>\r\n        <br/>\r\n        <br/>\r\n        <br/>\r\n        <div className=\"bookingsmanager\">\r\n            <h2>予約の管理</h2>\r\n            <DisplayMonth/>\r\n            {showReservationCalendar && calendarReservation && (\r\n                <div className=\"reservationcalendaroverlay\" onClick={() => setShowReservationCalendar(false)}>\r\n                    <div className=\"reservationmodalcontentcalendar\" onClick={e => e.stopPropagation()}>\r\n                    <h3>\r\n                        予約カレンダー:\r\n                        <br/>\r\n                        {calendarReservation[\"Name\"]} (部屋 {calendarReservation[\"Room Number\"]})\r\n                    </h3>\r\n                    <br />\r\n                    <ReservationCalendarModal reservation={calendarReservation} />\r\n                    <br/>\r\n                    <button className=\"closemodalbtn\" onClick={() => setShowReservationCalendar(false)}>\r\n                        カレンダーを閉じる\r\n                    </button>\r\n                    </div>\r\n                </div>\r\n                )}\r\n            </div>\r\n        <ReservationsTable/>\r\n        <br/>\r\n        <ChangeRoomPrices/>\r\n        <CustomFooter/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ManageBookings;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}